<Window x:Class="Simulador_dotT.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Simulador de Robô PID - WPF"
        Height="760"
        Width="1280"
        MinHeight="680"
        MinWidth="1100">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="320" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <ScrollViewer Grid.Column="0" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="12">
                <TextBlock Text="⚙️ PID SIMULATOR" FontSize="20" FontWeight="Bold" Margin="0,0,0,12" />

                <WrapPanel Margin="0,0,0,12">
                    <Button x:Name="StartButton" Content="Start" Width="90" Margin="0,0,8,0" Click="StartButton_Click" />
                    <Button x:Name="PauseButton" Content="Pause" Width="90" Margin="0,0,8,0" Click="PauseButton_Click" />
                    <Button x:Name="StopButton" Content="Stop" Width="90" Click="StopButton_Click" />
                </WrapPanel>

                <Button x:Name="ResetButton" Content="Reset" Margin="0,0,0,14" Click="ResetButton_Click" />

                <TextBlock Text="🎯 OPERATIONAL MODE" FontSize="15" FontWeight="Bold" Margin="0,0,0,8" />
                <ComboBox x:Name="ModeComboBox" Margin="0,0,0,8" SelectionChanged="ModeComboBox_SelectionChanged" />
                <TextBlock x:Name="ModeValueText" Margin="0,0,0,14" />

                <Separator Margin="0,0,0,12" />

                <TextBlock Text="KP - Proporcional" FontWeight="Bold" />
                <Slider x:Name="KpSlider" Minimum="0" Maximum="500" TickFrequency="1" IsSnapToTickEnabled="True" ValueChanged="KpSlider_ValueChanged" />
                <TextBlock x:Name="KpValueText" Margin="0,0,0,10" />

                <TextBlock Text="KI - Integral" FontWeight="Bold" />
                <Slider x:Name="KiSlider" Minimum="0" Maximum="500" TickFrequency="1" IsSnapToTickEnabled="True" ValueChanged="KiSlider_ValueChanged" />
                <TextBlock x:Name="KiValueText" Margin="0,0,0,10" />

                <TextBlock Text="KD - Derivativo" FontWeight="Bold" />
                <Slider x:Name="KdSlider" Minimum="0" Maximum="500" TickFrequency="1" IsSnapToTickEnabled="True" ValueChanged="KdSlider_ValueChanged" />
                <TextBlock x:Name="KdValueText" Margin="0,0,0,10" />

                <TextBlock Text="KSLIP - Derrapagem" FontWeight="Bold" />
                <Slider x:Name="KslipSlider" Minimum="0" Maximum="500" TickFrequency="1" IsSnapToTickEnabled="True" ValueChanged="KslipSlider_ValueChanged" />
                <TextBlock x:Name="KslipValueText" Margin="0,0,0,10" />

                <TextBlock Text="Velocidade Base" FontWeight="Bold" />
                <Slider x:Name="BaseVelSlider" Minimum="100" Maximum="4000" TickFrequency="10" IsSnapToTickEnabled="True" ValueChanged="BaseVelSlider_ValueChanged" />
                <TextBlock x:Name="BaseVelValueText" Margin="0,0,0,14" />

                <Separator Margin="0,0,0,12" />

                <TextBlock Text="📊 STATUS" FontSize="15" FontWeight="Bold" Margin="0,0,0,8" />
                <TextBlock x:Name="StatusText" TextWrapping="Wrap" Margin="0,0,0,6" />
                <TextBlock x:Name="DiagnosticText" Margin="0,0,0,4" />
                <TextBlock x:Name="LeftVelText" Margin="0,0,0,2" />
                <TextBlock x:Name="RightVelText" Margin="0,0,0,2" />
                <TextBlock x:Name="ErrorText" Margin="0,0,0,2" />
                <TextBlock x:Name="CorrectionText" Margin="0,0,0,10" />

                <TextBlock Text="PWM Motors" FontWeight="Bold" Margin="0,0,0,4" />
                <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                    <TextBlock Text="Left:" Width="50" VerticalAlignment="Center" />
                    <ProgressBar x:Name="PWMLeftBar" Width="150" Height="20" Minimum="0" Maximum="100" />
                    <TextBlock x:Name="PWMLeftValue" Margin="6,0,0,0" VerticalAlignment="Center" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Right:" Width="50" VerticalAlignment="Center" />
                    <ProgressBar x:Name="PWMRightBar" Width="150" Height="20" Minimum="0" Maximum="100" />
                    <TextBlock x:Name="PWMRightValue" Margin="6,0,0,0" VerticalAlignment="Center" />
                </StackPanel>

                <TextBlock Text="🏁 LAP TIMING" FontSize="15" FontWeight="Bold" Margin="0,0,0,8" />
                <TextBlock x:Name="LapStatusText" Margin="0,0,0,4" />
                <TextBlock x:Name="ProgressText" Margin="0,0,0,4" />
                <TextBlock x:Name="CurrentLapTimeText" Margin="0,0,0,4" />
                <TextBlock x:Name="BestLapText" Margin="0,0,0,4" />
                <TextBlock x:Name="LapInfoText" Margin="0,0,0,8" />

                <TextBox x:Name="LapHistoryTextBox"
                         Height="140"
                         IsReadOnly="True"
                         TextWrapping="Wrap"
                         VerticalScrollBarVisibility="Auto"
                         AcceptsReturn="True"
                         Margin="0,0,0,12" />

                <Separator Margin="0,0,0,12" />

                <TextBlock Text="🤖 SUGESTÕES PID" FontSize="15" FontWeight="Bold" Margin="0,0,0,8" />
                <ListBox x:Name="SuggestionsListBox" Height="180" Margin="0,0,0,8" />
                <Button x:Name="ApplySuggestionsButton" Content="Aplicar Sugestões" Click="ApplySuggestionsButton_Click" />
            </StackPanel>
        </ScrollViewer>

        <Border Grid.Column="1" Margin="12" BorderThickness="1">
            <Canvas x:Name="SimulationCanvas" Background="White" SizeChanged="SimulationCanvas_SizeChanged" />
        </Border>
    </Grid>
</Window>
